# 商业地产ERP系统 - 术语缩写规范

## 版本信息
- 版本: 1.0
- 创建日期: 2025-01-16
- 最后更新: 2025-01-16

## 1. 命名规范总则

### 1.1 基本原则
- 所有表名使用小写字母和下划线分隔（snake_case）
- 所有字段名使用小写字母和下划线分隔（snake_case）
- 表名使用单数形式（例如: tenant 而不是 tenants）
- 避免使用保留字
- 使用标准的缩写，避免自创缩写

### 1.2 标准字段
所有业务表必须包含以下标准字段：

```sql
id              BIGINT UNSIGNED AUTO_INCREMENT PRIMARY KEY COMMENT '主键ID',
uuid            VARCHAR(36) NOT NULL UNIQUE COMMENT '业务UUID',
version         BIGINT DEFAULT 0 COMMENT '乐观锁版本号',
created_at      DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间',
updated_at      DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '更新时间',
created_by_uuid VARCHAR(36) COMMENT '创建人UUID',
updated_by_uuid VARCHAR(36) COMMENT '更新人UUID',
deleted         TINYINT DEFAULT 0 COMMENT '逻辑删除标志: 0-未删除, 1-已删除'
```

## 2. 模块缩写

| 中文名称 | 英文全称 | 缩写 | 表前缀 | 说明 |
|---------|---------|------|--------|------|
| 基础资料 | Master Data | MD | md_ | 基础数据、字典表等 |
| 招商管理 | Investment | INV | inv_ | 招商、品牌、合同等 |
| 账务管理 | Account | ACC | acc_ | 账款、收付款、结算等 |
| 销售管理 | Sales | SLS | sls_ | 销售、收银、促销等 |
| 物业管理 | Property | PROP | prop_ | 物业、设备、能源等 |
| 营运管理 | Operation | OPR | opr_ | 营运、巡检、投诉等 |
| 库存管理 | Stock/Inventory | STK | stk_ | 物料、出入库等 |
| 系统管理 | System | SYS | sys_ | 用户、权限、日志等 |

## 3. 业务实体缩写

### 3.1 核心实体

| 中文名称 | 英文全称 | 缩写 | 说明 |
|---------|---------|------|------|
| 项目 | Project | PROJ | 商业地产项目 |
| 商户/租户 | Tenant | TNT | 承租商户 |
| 品牌 | Brand | BRD | 品牌 |
| 合同 | Contract | CONT | 租赁合同 |
| 账款 | Account | ACC | 应收应付账款 |
| 收款 | Receipt | RCPT | 收款单 |
| 付款 | Payment | PAY | 付款单 |
| 发票 | Invoice | INV | 发票 |
| 位置 | Position | POS | 铺位、档口等 |
| 科目 | Subject | SUBJ | 收费科目 |
| 物业 | Property | PROP | 物业相关 |
| 设备 | Device/Equipment | DEV | 设备 |
| 仪表 | Meter | MTR | 水电表等 |
| 能源 | Energy | ENG | 能源费用 |
| 物料 | Material | MAT | 物资物料 |
| 库存 | Stock/Inventory | STK | 库存 |
| 入库 | Inbound | INB | 入库 |
| 出库 | Outbound | OUTB | 出库 |
| 巡检 | Inspection | INSP | 巡检 |
| 投诉 | Complaint | CMPL | 投诉 |
| 保养/维修 | Maintenance | MAINT | 保养维修 |
| 保洁 | Cleaning | CLN | 保洁 |
| 业态 | Business Type | BIZ_TYPE | 业态 |
| 行业 | Industry | IND | 行业 |
| 区域 | Area | AREA | 区域 |

### 3.2 通用业务属性

| 中文名称 | 英文全称 | 字段名 | 类型 | 说明 |
|---------|---------|--------|------|------|
| 代码 | Code | code | VARCHAR(32) | 业务编码 |
| 名称 | Name | name | VARCHAR(128) | 名称 |
| 简称 | Short Name | short_name | VARCHAR(64) | 简称 |
| 状态 | State/Status | status | VARCHAR(20) | 状态 |
| 类型 | Type | type | VARCHAR(20) | 类型 |
| 备注 | Remark | remark | VARCHAR(512) | 备注说明 |
| 排序 | Sort/Sequence | sort_order | INT | 排序序号 |
| 是否启用 | Enabled | is_enabled | TINYINT | 0-禁用, 1-启用 |

## 4. 财务相关术语

| 中文名称 | 英文全称 | 缩写/字段名 | 说明 |
|---------|---------|------------|------|
| 金额 | Amount | amt | 金额字段后缀 |
| 数量 | Quantity | qty | 数量字段后缀 |
| 单价 | Unit Price | unit_price | 单价 |
| 总额 | Total | total | 合计金额 |
| 应收 | Receivable | receivable | 应收款 |
| 应付 | Payable | payable | 应付款 |
| 实收 | Actual Receipt | actual_rcpt | 实际收款 |
| 实付 | Actual Payment | actual_pay | 实际付款 |
| 折扣 | Discount | discount | 折扣 |
| 优惠 | Promotion | promo | 促销优惠 |
| 抵扣 | Deduction | deduct | 抵扣 |
| 余额 | Balance | balance | 余额 |
| 税率 | Tax Rate | tax_rate | 税率 |
| 税额 | Tax Amount | tax_amt | 税额 |
| 结算 | Settlement | settle | 结算 |
| 开票 | Invoicing | invoicing | 开票 |

## 5. 日期时间相关

| 中文名称 | 英文 | 字段名 | 类型 | 说明 |
|---------|-----|--------|------|------|
| 创建时间 | Created At | created_at | DATETIME | 记录创建时间 |
| 更新时间 | Updated At | updated_at | DATETIME | 记录更新时间 |
| 删除时间 | Deleted At | deleted_at | DATETIME | 软删除时间 |
| 开始日期 | Start Date | start_date | DATE | 开始日期 |
| 结束日期 | End Date | end_date | DATE | 结束日期 |
| 生效日期 | Effective Date | effective_date | DATE | 生效日期 |
| 失效日期 | Expiry Date | expiry_date | DATE | 失效日期 |
| 账期 | Account Period | period | VARCHAR(7) | 格式: YYYY-MM |

## 6. 关联关系命名

### 6.1 外键命名规范
```
格式: {关联表名}_id 或 {业务名称}_id
示例:
- tenant_id          商户ID
- contract_id        合同ID
- project_id         项目ID
- parent_id          父级ID（用于树形结构）
```

### 6.2 关联表命名规范（多对多）
```
格式: {表名1}_{表名2}
示例:
- tenant_brand       商户品牌关联表
- contract_position  合同位置关联表
- user_role          用户角色关联表
```

## 7. 状态和类型枚举规范

### 7.1 通用状态
```
DRAFT     - 草稿
PENDING   - 待审核
APPROVED  - 已审核
REJECTED  - 已驳回
ACTIVE    - 生效中
INACTIVE  - 已失效
SUSPENDED - 暂停
CANCELLED - 已取消
COMPLETED - 已完成
CLOSED    - 已关闭
```

### 7.2 删除标志
```
0 - 未删除
1 - 已删除
```

### 7.3 布尔标志
```
0 - 否/False
1 - 是/True
```

## 8. 数据库设计范式要求

### 8.1 第一范式 (1NF)
- 每个字段都是不可再分的原子值
- 不允许有重复组

### 8.2 第二范式 (2NF)
- 满足1NF
- 所有非主键字段完全依赖于主键
- 消除部分函数依赖

### 8.3 第三范式 (3NF)
- 满足2NF
- 消除传递依赖
- **禁止冗余存储关联对象的code、name等属性**
- 关联对象只存储id/uuid，通过JOIN查询获取详细信息

### 8.4 反范式化原则
仅在以下情况考虑适度反范式：
1. 高频查询且关联表稳定不变
2. 性能关键路径
3. 必须有充分的业务理由并文档化

## 9. 索引命名规范

```sql
-- 主键索引（自动创建）
PRIMARY KEY (id)

-- 唯一索引
UNIQUE KEY uk_{表名}_{字段名} (字段名)
示例: UNIQUE KEY uk_tenant_code (code)

-- 普通索引
KEY idx_{表名}_{字段名} (字段名)
示例: KEY idx_contract_tenant_id (tenant_id)

-- 组合索引
KEY idx_{表名}_{字段1}_{字段2} (字段1, 字段2)
示例: KEY idx_contract_project_status (project_id, status)

-- 外键索引
KEY fk_{表名}_{关联表名} (外键字段)
示例: KEY fk_contract_tenant (tenant_id)
```

## 10. 注释规范

### 10.1 表注释
```sql
CREATE TABLE md_tenant (
    ...
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='商户表';
```

### 10.2 字段注释
```sql
code VARCHAR(32) NOT NULL COMMENT '商户编码',
name VARCHAR(128) NOT NULL COMMENT '商户名称',
status VARCHAR(20) NOT NULL DEFAULT 'ACTIVE' COMMENT '状态: ACTIVE-生效, INACTIVE-失效',
```

## 11. 特殊业务场景

### 11.1 历史记录表
```
格式: {原表名}_history 或 {原表名}_hist
示例: tenant_history, contract_hist
```

### 11.2 详情明细表
```
格式: {主表名}_detail 或 {主表名}_item
示例: contract_detail, receipt_item
```

### 11.3 配置表
```
格式: {业务}_config 或 {业务}_setting
示例: system_config, invoice_setting
```

### 11.4 日志表
```
格式: {业务}_log
示例: operation_log, sync_log
```

## 12. 避免的命名

### 12.1 禁止使用
- 中文拼音: ~~zhanghao~~
- 不标准缩写: ~~tnt_nm~~, ~~cont_dt~~
- 单字母: ~~a~~, ~~b~~, ~~x~~
- 数字后缀无意义: ~~table1~~, ~~field2~~

### 12.2 避免使用
- 过度缩写: ~~tnct~~, ~~rcvbl~~
- 含义不清: ~~data~~, ~~info~~, ~~temp~~
- MySQL保留字: ~~order~~, ~~group~~, ~~key~~

## 13. 版本历史

| 版本 | 日期 | 修改人 | 修改说明 |
|------|------|--------|----------|
| 1.0  | 2025-01-16 | System | 初始版本 |

---

**注意事项**:
1. 本规范适用于新建表，旧表改造需评估影响范围
2. 特殊情况偏离规范需团队评审并文档化
3. 规范随业务发展持续优化更新
