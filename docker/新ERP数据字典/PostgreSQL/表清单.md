# PostgreSQL新ERP数据库表清单

## 统计概览

- **总表数**: 64张
- **数据库类型**: PostgreSQL 12+
- **主键类型**: UUID
- **模块数**: 6个

---

## 1. 基础资料模块 (md_) - 16张表

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 1 | md_project | 项目表 | 商业地产项目基础信息 |
| 2 | md_tenant | 商户表 | 商户/租户基础信息 |
| 3 | md_tenant_contact | 商户联系方式表 | 商户多个联系人 |
| 4 | md_tenant_bank | 商户银行信息表 | 商户银行账户 |
| 5 | md_brand | 品牌表 | 品牌基础信息 |
| 6 | md_tenant_brand | 商户品牌关联表 | 商户经营的品牌（多对多） |
| 7 | md_industry | 行业表 | 行业分类（树形结构） |
| 8 | md_biz_type | 业态表 | 业态分类（树形结构） |
| 9 | md_area | 区域表 | 项目区域划分 |
| 10 | md_position | 位置表 | 铺位/档口位置信息 |
| 11 | md_subject_type | 科目类型表 | 收费科目分类 |
| 12 | md_subject | 收费科目表 | 具体收费科目 |
| 13 | md_payment_method | 付款方式表 | 现金/银行转账/支付宝等 |
| 14 | md_bank | 银行表 | 银行资料 |
| 15 | md_goods | 物品表 | 物品字典 |

---

## 2. 招商管理模块 (inv_) - 4张表

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 16 | inv_contract | 租赁合同表 | 租赁合同主表 |
| 17 | inv_contract_position | 合同位置关联表 | 合同与位置多对多关系 |
| 18 | inv_contract_subject | 合同科目表 | 合同收费科目配置 |
| 19 | inv_potential_tenant | 潜在商户表 | 招商线索 |

---

## 3. 账务管理模块 (acc_) - 9张表

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 20 | acc_account | 账款表 | 应收应付账款 |
| 21 | acc_receipt | 收款单表 | 收款单主表 |
| 22 | acc_receipt_detail | 收款明细表 | 收款单明细 |
| 23 | acc_payment | 付款单表 | 付款单主表 |
| 24 | acc_payment_detail | 付款明细表 | 付款单明细 |
| 25 | acc_invoice | 发票表 | 发票管理 |
| 26 | acc_month_close | 月度结账表 | 财务月结 |

---

## 4. 物业管理模块 (prop_) - 17张表

### 4.1 设备管理 (6张)

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 27 | prop_device_category | 设备分类表 | 设备分类（树形） |
| 28 | prop_device | 设备表 | 设备台账 |
| 29 | prop_device_maint_plan | 设备保养计划表 | 设备保养计划 |
| 30 | prop_device_maint_record | 设备保养记录表 | 保养实际记录 |

### 4.2 能源管理 (2张)

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 31 | prop_meter | 仪表表 | 水电表等仪表 |
| 32 | prop_meter_reading | 抄表记录表 | 抄表数据 |

### 4.3 物料管理 (9张)

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 33 | prop_material_category | 物料分类表 | 物料分类（树形） |
| 34 | prop_material | 物料表 | 物料基础信息 |
| 35 | prop_inbound | 入库单表 | 入库单主表 |
| 36 | prop_inbound_detail | 入库明细表 | 入库单明细 |
| 37 | prop_outbound | 出库单表 | 出库单主表 |
| 38 | prop_outbound_detail | 出库明细表 | 出库单明细 |
| 39 | prop_stock | 库存表 | 实时库存 |

---

## 5. 营运管理模块 (opr_) - 7张表

### 5.1 巡检管理 (4张)

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 40 | opr_inspection_item | 巡检项目表 | 巡检检查项 |
| 41 | opr_inspection_plan | 巡检计划表 | 巡检计划 |
| 42 | opr_inspection_record | 巡检记录表 | 巡检记录主表 |
| 43 | opr_inspection_detail | 巡检记录明细表 | 巡检记录明细 |

### 5.2 投诉管理 (2张)

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 44 | opr_complaint_type | 投诉类型表 | 投诉分类 |
| 45 | opr_complaint | 投诉表 | 投诉单 |

### 5.3 工单管理 (1张)

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 46 | opr_work_order | 工单表 | 工单/维修单 |

---

## 6. 系统管理模块 (sys_) - 11张表

### 6.1 用户权限 (5张)

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 47 | sys_user | 用户表 | 系统用户 |
| 48 | sys_role | 角色表 | 角色定义 |
| 49 | sys_user_role | 用户角色关联表 | 用户角色关系 |
| 50 | sys_permission | 权限表 | 权限/菜单 |
| 51 | sys_role_permission | 角色权限关联表 | 角色权限关系 |

### 6.2 组织架构 (1张)

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 52 | sys_dept | 部门表 | 部门组织架构 |

### 6.3 系统配置 (4张)

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 53 | sys_config | 系统配置表 | 系统参数配置 |
| 54 | sys_dict | 数据字典表 | 字典分类 |
| 55 | sys_dict_item | 字典项表 | 字典项值 |

### 6.4 日志审计 (1张)

| 序号 | 表名 | 中文名 | 说明 |
|------|------|--------|------|
| 56 | sys_operation_log | 操作日志表 | 操作审计日志 |

---

## 核心关联关系

### 项目维度
```
md_project (项目)
  ├── md_area (区域)
  │   └── md_position (位置)
  ├── inv_contract (合同)
  ├── acc_account (账款)
  └── prop_device (设备)
```

### 商户维度
```
md_tenant (商户)
  ├── md_tenant_contact (联系方式)
  ├── md_tenant_bank (银行信息)
  ├── md_tenant_brand (经营品牌)
  ├── inv_contract (租赁合同)
  └── acc_account (账款)
```

### 合同维度
```
inv_contract (合同)
  ├── inv_contract_position (关联位置)
  ├── inv_contract_subject (收费科目)
  └── acc_account (生成账款)
```

### 账款收款
```
acc_account (账款)
  └── acc_receipt_detail (收款明细)
      └── acc_receipt (收款单)
```

---

## 表命名规范

| 前缀 | 模块 | 示例 |
|------|------|------|
| md_ | Master Data 基础资料 | md_tenant, md_project |
| inv_ | Investment 招商管理 | inv_contract |
| acc_ | Account 账务管理 | acc_account, acc_receipt |
| prop_ | Property 物业管理 | prop_device, prop_material |
| opr_ | Operation 营运管理 | opr_inspection, opr_complaint |
| sys_ | System 系统管理 | sys_user, sys_role |

---

## 标准字段

所有业务表都包含：
- `id` - UUID主键
- `code` - 业务编码
- `version` - 版本号（乐观锁）
- `created_at` - 创建时间
- `updated_at` - 更新时间（自动触发器）
- `created_by_uuid` - 创建人UUID
- `updated_by_uuid` - 更新人UUID
- `deleted` - 逻辑删除标志

---

**更新日期**: 2025-11-02
**数据库**: PostgreSQL 12+
**主键类型**: UUID
